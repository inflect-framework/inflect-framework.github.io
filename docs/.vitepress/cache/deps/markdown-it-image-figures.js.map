{
  "version": 3,
  "sources": ["../../../../node_modules/markdown-it-image-figures/dist/markdown-it-images-figures.mjs"],
  "sourcesContent": ["const t=new Set([!0,!1,\"alt\",\"title\"]);function e(t,e){return(Array.isArray(t)?t:[]).filter(([t])=>t!==e)}function n(t,n){t&&t.attrs&&(t.attrs=e(t.attrs,n))}function i(e,i){if(!t.has(e))throw new TypeError(`figcaption must be one of: ${[...t]}.`);if(\"alt\"===e)return i.content;const r=i.attrs.find(([t])=>\"title\"===t);return Array.isArray(r)&&r[1]?(n(i,\"title\"),r[1]):void 0}function r(t,r){r=r||{},t.core.ruler.before(\"linkify\",\"image_figures\",function(s){let a=1;for(let o=1,c=s.tokens.length;o<c-1;++o){const l=s.tokens[o];if(\"inline\"!==l.type)continue;if(!l.children||1!==l.children.length&&3!==l.children.length)continue;if(1===l.children.length&&\"image\"!==l.children[0].type)continue;if(3===l.children.length){const[t,e,n]=l.children;if(\"link_open\"!==t.type||\"image\"!==e.type||\"link_close\"!==n.type)continue}if(0!==o&&\"paragraph_open\"!==s.tokens[o-1].type)continue;if(o!==c-1&&\"paragraph_close\"!==s.tokens[o+1].type)continue;const f=s.tokens[o-1];let h;if(f.type=\"figure_open\",f.tag=\"figure\",s.tokens[o+1].type=\"figure_close\",s.tokens[o+1].tag=\"figure\",r.dataType&&s.tokens[o-1].attrPush([\"data-type\",\"image\"]),r.link&&1===l.children.length){[h]=l.children;const t=new s.Token(\"link_open\",\"a\",1);t.attrPush([\"href\",h.attrGet(\"src\")]),l.children.unshift(t),l.children.push(new s.Token(\"link_close\",\"a\",-1))}if(h=1===l.children.length?l.children[0]:l.children[1],r.figcaption){const n=i(r.figcaption,h);if(n){const[i]=t.parseInline(n,s.env);l.children.push(new s.Token(\"figcaption_open\",\"figcaption\",1)),l.children.push(...i.children),l.children.push(new s.Token(\"figcaption_close\",\"figcaption\",-1)),h.attrs&&(h.attrs=e(h.attrs,\"title\"))}}if(r.copyAttrs&&h.attrs){const t=!0===r.copyAttrs?\"\":r.copyAttrs;f.attrs=h.attrs.filter(([e])=>e.match(t)).map(t=>Array.from(t))}if(r.tabindex&&(s.tokens[o-1].attrPush([\"tabindex\",a]),a++),r.lazy&&(h.attrs.some(([t])=>\"loading\"===t)||h.attrs.push([\"loading\",\"lazy\"])),r.async&&(h.attrs.some(([t])=>\"decoding\"===t)||h.attrs.push([\"decoding\",\"async\"])),r.classes&&\"string\"==typeof r.classes){let t=!1;for(let e=0,n=h.attrs.length;e<n&&!t;e++){const n=h.attrs[e];\"class\"===n[0]&&(n[1]=`${n[1]} ${r.classes}`,t=!0)}t||h.attrs.push([\"class\",r.classes])}if(r.removeSrc){const t=h.attrs.find(([t])=>\"src\"===t);h.attrs.push([\"data-src\",t[1]]),n(h,\"src\")}}})}export{r as default};\n"],
  "mappings": "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",
  "names": ["t", "e", "n", "i", "r"]
}
